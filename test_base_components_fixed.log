2025-10-03 21:48:30,134 - __main__ - INFO - ============================================================
2025-10-03 21:48:30,134 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:48:30,134 - __main__ - INFO - ============================================================
2025-10-03 21:48:30,134 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:48:30,135 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:48:30,136 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:48:30,136 - theme_system.theme_manager - INFO - 应用默认主题: dark
2025-10-03 21:48:30,136 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:48:30,136 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:48:30,136 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:48:30,137 - theme_system.theme_manager - INFO - 主题切换成功: dark -> dark
2025-10-03 21:48:30,137 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:48:30,137 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:48:30,137 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:48:30,137 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:48:30,137 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:48:30,138 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:48:30,138 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:48:30,138 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:48:30,138 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:48:30,138 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:48:30,138 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:48:30,138 - __main__ - ERROR - ❌ 状态管理器测试失败: 状态设置和获取失败
2025-10-03 21:48:30,139 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 246, in test_state_manager
    assert value == 'test_value', "状态设置和获取失败"
           ^^^^^^^^^^^^^^^^^^^^^
AssertionError: 状态设置和获取失败

2025-10-03 21:48:30,139 - __main__ - ERROR - ❌ 状态管理器 失败
2025-10-03 21:48:30,139 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:48:30,139 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:48:30,139 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:48:30,139 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:48:30,139 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:48:30,139 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:48:30,139 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:48:30,139 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:48:30,139 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:48:30,139 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:48:30,139 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:48:30,139 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:48:30,139 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:48:30,139 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:48:30,376 - __main__ - ERROR - ❌ 样式化组件测试失败: Can't instantiate abstract class TestStyledComponent with abstract method _initialize_component
2025-10-03 21:48:30,376 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 320, in test_styled_component
    test_component = TestStyledComponent(
                     ^^^^^^^^^^^^^^^^^^^^
TypeError: Can't instantiate abstract class TestStyledComponent with abstract method _initialize_component

2025-10-03 21:48:30,377 - __main__ - ERROR - ❌ 样式化组件 失败
2025-10-03 21:48:30,377 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:48:30,377 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:48:30,377 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:48:30,377 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:48:30,377 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:48:30,425 - ui.components.base_components - ERROR - 创建组件失败 test_component: Can't instantiate abstract class TestStyledComponent with abstract method _initialize_component
2025-10-03 21:48:30,425 - __main__ - ERROR - ❌ 组件工厂测试失败: 组件创建应该成功
2025-10-03 21:48:30,426 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 402, in test_component_factory
    assert test_component is not None, "组件创建应该成功"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 组件创建应该成功

2025-10-03 21:48:30,426 - __main__ - ERROR - ❌ 组件工厂 失败
2025-10-03 21:48:30,427 - __main__ - INFO - 
============================================================
2025-10-03 21:48:30,427 - __main__ - INFO - 测试结果: 2/5 通过
2025-10-03 21:48:30,427 - __main__ - INFO - ============================================================
2025-10-03 21:48:30,427 - __main__ - ERROR - 💥 有 3 个测试失败
2025-10-03 21:48:55,856 - __main__ - INFO - ============================================================
2025-10-03 21:48:55,856 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:48:55,856 - __main__ - INFO - ============================================================
2025-10-03 21:48:55,856 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:48:55,856 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:48:55,857 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:48:55,857 - theme_system.theme_manager - INFO - 应用默认主题: neutral
2025-10-03 21:48:55,857 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:48:55,857 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:48:55,857 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:48:55,858 - theme_system.theme_manager - INFO - 主题切换成功: neutral -> dark
2025-10-03 21:48:55,858 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:48:55,858 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:48:55,858 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:48:55,859 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:48:55,859 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:48:55,859 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:48:55,859 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:48:55,859 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:48:55,859 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:48:55,859 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:48:55,859 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:48:55,859 - __main__ - INFO - 设置状态: 'test.key' = 'test_value'
2025-10-03 21:48:55,859 - __main__ - INFO - 获取状态: 'test.key' = 'None'
2025-10-03 21:48:55,859 - __main__ - ERROR - ❌ 状态管理器测试失败: 状态设置和获取失败: 期望'test_value', 实际'None'
2025-10-03 21:48:55,860 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 252, in test_state_manager
    assert value == 'test_value', f"状态设置和获取失败: 期望'test_value', 实际'{value}'"
           ^^^^^^^^^^^^^^^^^^^^^
AssertionError: 状态设置和获取失败: 期望'test_value', 实际'None'

2025-10-03 21:48:55,860 - __main__ - ERROR - ❌ 状态管理器 失败
2025-10-03 21:48:55,860 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:48:55,860 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:48:55,860 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:48:55,860 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:48:55,860 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:48:55,860 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:48:55,860 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:48:55,861 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:48:55,861 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:48:55,861 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:48:55,861 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:48:55,861 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:48:55,861 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:48:55,861 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:48:56,114 - __main__ - INFO - ✅ 样式化组件创建成功
2025-10-03 21:48:56,115 - __main__ - INFO - ✅ 主题应用验证通过
2025-10-03 21:48:56,115 - __main__ - ERROR - 事件处理器执行失败 TestStyledComponent_2926595436304.test_event: test_styled_component.<locals>.test_handler() missing 1 required positional argument: 'text'
2025-10-03 21:48:56,116 - __main__ - ERROR - ❌ 样式化组件测试失败: 事件应该被触发
2025-10-03 21:48:56,116 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 348, in test_styled_component
    assert event_triggered, "事件应该被触发"
           ^^^^^^^^^^^^^^^
AssertionError: 事件应该被触发

2025-10-03 21:48:56,116 - __main__ - ERROR - ❌ 样式化组件 失败
2025-10-03 21:48:56,116 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:48:56,116 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:48:56,116 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:48:56,116 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:48:56,116 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:48:56,174 - __main__ - INFO - ✅ 组件创建验证通过
2025-10-03 21:48:56,174 - __main__ - INFO - ✅ 组件获取验证通过
2025-10-03 21:48:56,174 - __main__ - INFO - ✅ 创建统计验证通过
2025-10-03 21:48:56,179 - __main__ - INFO - ✅ 组件工厂测试完成
2025-10-03 21:48:56,179 - __main__ - INFO - ✅ 组件工厂 通过
2025-10-03 21:48:56,179 - __main__ - INFO - 
============================================================
2025-10-03 21:48:56,179 - __main__ - INFO - 测试结果: 3/5 通过
2025-10-03 21:48:56,179 - __main__ - INFO - ============================================================
2025-10-03 21:48:56,179 - __main__ - ERROR - 💥 有 2 个测试失败
2025-10-03 21:49:13,289 - __main__ - INFO - ============================================================
2025-10-03 21:49:13,290 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:49:13,290 - __main__ - INFO - ============================================================
2025-10-03 21:49:13,290 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:49:13,290 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:49:13,290 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:49:13,290 - theme_system.theme_manager - INFO - 应用默认主题: neutral
2025-10-03 21:49:13,290 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:49:13,290 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:49:13,290 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:49:13,291 - theme_system.theme_manager - INFO - 主题切换成功: neutral -> dark
2025-10-03 21:49:13,291 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:49:13,291 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:49:13,291 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:49:13,291 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:49:13,291 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:49:13,292 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:49:13,292 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:49:13,292 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:49:13,292 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:49:13,292 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:49:13,292 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:49:13,292 - __main__ - INFO - 设置状态: 'test.key' = 'test_value'
2025-10-03 21:49:13,292 - __main__ - INFO - 获取状态: 'test.key' = 'None'
2025-10-03 21:49:13,292 - __main__ - ERROR - ❌ 状态管理器测试失败: 状态设置和获取失败: 期望'test_value', 实际'None'
2025-10-03 21:49:13,293 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 252, in test_state_manager
    assert value == 'test_value', f"状态设置和获取失败: 期望'test_value', 实际'{value}'"
           ^^^^^^^^^^^^^^^^^^^^^
AssertionError: 状态设置和获取失败: 期望'test_value', 实际'None'

2025-10-03 21:49:13,293 - __main__ - ERROR - ❌ 状态管理器 失败
2025-10-03 21:49:13,293 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:49:13,293 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:49:13,293 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:49:13,293 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:49:13,293 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:49:13,293 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:49:13,293 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:49:13,294 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:49:13,294 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:49:13,294 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:49:13,294 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:49:13,294 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:49:13,294 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:49:13,294 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:49:13,552 - __main__ - INFO - ✅ 样式化组件创建成功
2025-10-03 21:49:13,553 - __main__ - INFO - ✅ 主题应用验证通过
2025-10-03 21:49:13,553 - __main__ - INFO - 组件事件触发: ('test_data',), {}
2025-10-03 21:49:13,553 - __main__ - INFO - ✅ 事件处理验证通过
2025-10-03 21:49:13,553 - __main__ - INFO - ✅ 性能指标验证通过
2025-10-03 21:49:13,553 - __main__ - INFO - ✅ 组件信息验证通过
2025-10-03 21:49:13,553 - __main__ - INFO - 显示测试窗口，请手动验证...
2025-10-03 21:49:13,553 - __main__ - INFO - 按 Ctrl+C 或关闭窗口继续测试
2025-10-03 21:49:15,620 - __main__ - INFO - ✅ 样式化组件测试完成
2025-10-03 21:49:15,621 - __main__ - INFO - ✅ 样式化组件 通过
2025-10-03 21:49:15,621 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:49:15,621 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:49:15,621 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:49:15,621 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:49:15,621 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:49:15,684 - __main__ - INFO - ✅ 组件创建验证通过
2025-10-03 21:49:15,684 - __main__ - INFO - ✅ 组件获取验证通过
2025-10-03 21:49:15,684 - __main__ - INFO - ✅ 创建统计验证通过
2025-10-03 21:49:15,692 - __main__ - INFO - ✅ 组件工厂测试完成
2025-10-03 21:49:15,694 - __main__ - INFO - ✅ 组件工厂 通过
2025-10-03 21:49:15,694 - __main__ - INFO - 
============================================================
2025-10-03 21:49:15,694 - __main__ - INFO - 测试结果: 4/5 通过
2025-10-03 21:49:15,694 - __main__ - INFO - ============================================================
2025-10-03 21:49:15,694 - __main__ - ERROR - 💥 有 1 个测试失败
2025-10-03 21:49:41,979 - __main__ - INFO - ============================================================
2025-10-03 21:49:41,979 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:49:41,979 - __main__ - INFO - ============================================================
2025-10-03 21:49:41,979 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:49:41,979 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:49:41,980 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:49:41,980 - theme_system.theme_manager - INFO - 应用默认主题: neutral
2025-10-03 21:49:41,980 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:49:41,981 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:49:41,981 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:49:41,981 - theme_system.theme_manager - INFO - 主题切换成功: neutral -> dark
2025-10-03 21:49:41,981 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:49:41,981 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:49:41,981 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:49:41,982 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:49:41,982 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:49:41,982 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:49:41,982 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:49:41,982 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:49:41,982 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:49:41,982 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:49:41,982 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:49:41,982 - __main__ - INFO - 设置状态: 'test.key' = 'test_value'
2025-10-03 21:49:41,982 - __main__ - INFO - 获取状态: 'test.key' = 'test_value'
2025-10-03 21:49:41,982 - __main__ - INFO - ✅ 状态设置和获取验证通过
2025-10-03 21:49:41,982 - __main__ - ERROR - ❌ 状态管理器测试失败: 状态订阅回调未被调用
2025-10-03 21:49:41,982 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\test_base_components_fixed.py", line 266, in test_state_manager
    assert callback_called, "状态订阅回调未被调用"
           ^^^^^^^^^^^^^^^
AssertionError: 状态订阅回调未被调用

2025-10-03 21:49:41,983 - __main__ - ERROR - ❌ 状态管理器 失败
2025-10-03 21:49:41,983 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:49:41,983 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:49:41,983 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:49:41,983 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:49:41,983 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:49:41,983 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:49:41,983 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:49:41,983 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:49:41,983 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:49:41,983 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:49:41,983 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:49:41,983 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:49:41,983 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:49:41,983 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:49:42,262 - __main__ - INFO - ✅ 样式化组件创建成功
2025-10-03 21:49:42,263 - __main__ - INFO - ✅ 主题应用验证通过
2025-10-03 21:49:42,264 - __main__ - INFO - 组件事件触发: ('test_data',), {}
2025-10-03 21:49:42,264 - __main__ - INFO - ✅ 事件处理验证通过
2025-10-03 21:49:42,264 - __main__ - INFO - ✅ 性能指标验证通过
2025-10-03 21:49:42,264 - __main__ - INFO - ✅ 组件信息验证通过
2025-10-03 21:49:42,264 - __main__ - INFO - 显示测试窗口，请手动验证...
2025-10-03 21:49:42,264 - __main__ - INFO - 按 Ctrl+C 或关闭窗口继续测试
2025-10-03 21:49:44,338 - __main__ - INFO - ✅ 样式化组件测试完成
2025-10-03 21:49:44,338 - __main__ - INFO - ✅ 样式化组件 通过
2025-10-03 21:49:44,338 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:49:44,339 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:49:44,339 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:49:44,339 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:49:44,339 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:49:44,407 - __main__ - INFO - ✅ 组件创建验证通过
2025-10-03 21:49:44,407 - __main__ - INFO - ✅ 组件获取验证通过
2025-10-03 21:49:44,407 - __main__ - INFO - ✅ 创建统计验证通过
2025-10-03 21:49:44,416 - __main__ - INFO - ✅ 组件工厂测试完成
2025-10-03 21:49:44,416 - __main__ - INFO - ✅ 组件工厂 通过
2025-10-03 21:49:44,416 - __main__ - INFO - 
============================================================
2025-10-03 21:49:44,416 - __main__ - INFO - 测试结果: 4/5 通过
2025-10-03 21:49:44,416 - __main__ - INFO - ============================================================
2025-10-03 21:49:44,416 - __main__ - ERROR - 💥 有 1 个测试失败
2025-10-03 21:51:31,432 - __main__ - INFO - ============================================================
2025-10-03 21:51:31,432 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:51:31,433 - __main__ - INFO - ============================================================
2025-10-03 21:51:31,433 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:51:31,433 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:51:31,434 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:51:31,434 - theme_system.theme_manager - INFO - 应用默认主题: neutral
2025-10-03 21:51:31,435 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:51:31,435 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:51:31,435 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:51:31,436 - theme_system.theme_manager - INFO - 主题切换成功: neutral -> dark
2025-10-03 21:51:31,436 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:51:31,437 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:51:31,437 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:51:31,437 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:51:31,437 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:51:31,439 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:51:31,439 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:51:31,439 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:51:31,439 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:51:31,439 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:51:31,439 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:51:31,440 - __main__ - INFO - 设置状态: 'test.key' = 'test_value'
2025-10-03 21:51:31,440 - __main__ - INFO - 获取状态: 'test.key' = 'test_value'
2025-10-03 21:51:31,440 - __main__ - INFO - ✅ 状态设置和获取验证通过
2025-10-03 21:51:31,440 - __main__ - ERROR - ❌ 状态管理器测试失败: 状态订阅回调未被调用
2025-10-03 21:51:31,441 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "d:\AI_NovelGenerator\test_base_components_fixed.py", line 266, in test_state_manager
    assert callback_called, "状态订阅回调未被调用"
           ^^^^^^^^^^^^^^^
AssertionError: 状态订阅回调未被调用

2025-10-03 21:51:31,441 - __main__ - ERROR - ❌ 状态管理器 失败
2025-10-03 21:51:31,441 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:51:31,441 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:51:31,441 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:51:31,442 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:51:31,442 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:51:31,442 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:51:31,442 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:51:31,443 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:51:31,443 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:51:31,443 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:51:31,443 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:51:31,443 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:51:31,443 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:51:31,443 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:51:31,674 - __main__ - INFO - ✅ 样式化组件创建成功
2025-10-03 21:51:31,675 - __main__ - INFO - ✅ 主题应用验证通过
2025-10-03 21:51:31,675 - __main__ - INFO - 组件事件触发: ('test_data',), {}
2025-10-03 21:51:31,675 - __main__ - INFO - ✅ 事件处理验证通过
2025-10-03 21:51:31,675 - __main__ - INFO - ✅ 性能指标验证通过
2025-10-03 21:51:31,675 - __main__ - INFO - ✅ 组件信息验证通过
2025-10-03 21:51:31,676 - __main__ - INFO - 显示测试窗口，请手动验证...
2025-10-03 21:51:31,676 - __main__ - INFO - 按 Ctrl+C 或关闭窗口继续测试
2025-10-03 21:51:33,752 - __main__ - INFO - ✅ 样式化组件测试完成
2025-10-03 21:51:33,752 - __main__ - INFO - ✅ 样式化组件 通过
2025-10-03 21:51:33,752 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:51:33,753 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:51:33,753 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:51:33,754 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:51:33,754 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:51:33,824 - __main__ - INFO - ✅ 组件创建验证通过
2025-10-03 21:51:33,825 - __main__ - INFO - ✅ 组件获取验证通过
2025-10-03 21:51:33,825 - __main__ - INFO - ✅ 创建统计验证通过
2025-10-03 21:51:33,836 - __main__ - INFO - ✅ 组件工厂测试完成
2025-10-03 21:51:33,836 - __main__ - INFO - ✅ 组件工厂 通过
2025-10-03 21:51:33,836 - __main__ - INFO - 
============================================================
2025-10-03 21:51:33,836 - __main__ - INFO - 测试结果: 4/5 通过
2025-10-03 21:51:33,836 - __main__ - INFO - ============================================================
2025-10-03 21:51:33,837 - __main__ - ERROR - 💥 有 1 个测试失败
