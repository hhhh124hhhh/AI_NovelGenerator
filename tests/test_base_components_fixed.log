2025-10-03 21:55:26,118 - __main__ - INFO - ============================================================
2025-10-03 21:55:26,118 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:55:26,118 - __main__ - INFO - ============================================================
2025-10-03 21:55:26,118 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:55:26,118 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:55:26,119 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:55:26,119 - theme_system.theme_manager - INFO - 应用默认主题: neutral
2025-10-03 21:55:26,119 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:55:26,119 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:55:26,119 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:55:26,120 - theme_system.theme_manager - INFO - 主题切换成功: neutral -> dark
2025-10-03 21:55:26,120 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:55:26,120 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:55:26,120 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:55:26,121 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:55:26,121 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:55:26,121 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:55:26,121 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:55:26,121 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:55:26,121 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:55:26,121 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:55:26,121 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:55:26,121 - __main__ - INFO - 设置状态: 'test.key' = 'test_value'
2025-10-03 21:55:26,122 - __main__ - INFO - 获取状态: 'test.key' = 'test_value'
2025-10-03 21:55:26,122 - __main__ - INFO - ✅ 状态设置和获取验证通过
2025-10-03 21:55:26,122 - __main__ - ERROR - ❌ 状态管理器测试失败: 状态订阅回调未被调用
2025-10-03 21:55:26,122 - __main__ - ERROR - 错误详情:
Traceback (most recent call last):
  File "D:\AI_NovelGenerator\tests\test_base_components_fixed.py", line 266, in test_state_manager
    assert callback_called, "状态订阅回调未被调用"
           ^^^^^^^^^^^^^^^
AssertionError: 状态订阅回调未被调用

2025-10-03 21:55:26,122 - __main__ - ERROR - ❌ 状态管理器 失败
2025-10-03 21:55:26,122 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:55:26,122 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:55:26,122 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:55:26,122 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:55:26,122 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:55:26,122 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:55:26,123 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:55:26,123 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:55:26,123 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:55:26,123 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:55:26,123 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:55:26,123 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:55:26,123 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:55:26,123 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:55:26,386 - __main__ - INFO - ✅ 样式化组件创建成功
2025-10-03 21:55:26,387 - __main__ - INFO - ✅ 主题应用验证通过
2025-10-03 21:55:26,387 - __main__ - INFO - 组件事件触发: ('test_data',), {}
2025-10-03 21:55:26,387 - __main__ - INFO - ✅ 事件处理验证通过
2025-10-03 21:55:26,387 - __main__ - INFO - ✅ 性能指标验证通过
2025-10-03 21:55:26,387 - __main__ - INFO - ✅ 组件信息验证通过
2025-10-03 21:55:26,387 - __main__ - INFO - 显示测试窗口，请手动验证...
2025-10-03 21:55:26,387 - __main__ - INFO - 按 Ctrl+C 或关闭窗口继续测试
2025-10-03 21:55:28,454 - __main__ - INFO - ✅ 样式化组件测试完成
2025-10-03 21:55:28,454 - __main__ - INFO - ✅ 样式化组件 通过
2025-10-03 21:55:28,455 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:55:28,455 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:55:28,455 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:55:28,455 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:55:28,455 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:55:28,526 - __main__ - INFO - ✅ 组件创建验证通过
2025-10-03 21:55:28,527 - __main__ - INFO - ✅ 组件获取验证通过
2025-10-03 21:55:28,527 - __main__ - INFO - ✅ 创建统计验证通过
2025-10-03 21:55:28,537 - __main__ - INFO - ✅ 组件工厂测试完成
2025-10-03 21:55:28,537 - __main__ - INFO - ✅ 组件工厂 通过
2025-10-03 21:55:28,537 - __main__ - INFO - 
============================================================
2025-10-03 21:55:28,537 - __main__ - INFO - 测试结果: 4/5 通过
2025-10-03 21:55:28,537 - __main__ - INFO - ============================================================
2025-10-03 21:55:28,537 - __main__ - ERROR - 💥 有 1 个测试失败
2025-10-03 21:56:08,511 - __main__ - INFO - ============================================================
2025-10-03 21:56:08,512 - __main__ - INFO - STORY-002 BUILD阶段Day1 组件系统测试 - 修复版
2025-10-03 21:56:08,512 - __main__ - INFO - ============================================================
2025-10-03 21:56:08,512 - __main__ - INFO - 
--- 主题管理器 ---
2025-10-03 21:56:08,512 - __main__ - INFO - 开始测试主题管理器...
2025-10-03 21:56:08,512 - theme_system.theme_manager - INFO - 已加载 4 个主题
2025-10-03 21:56:08,513 - theme_system.theme_manager - INFO - 应用默认主题: neutral
2025-10-03 21:56:08,513 - theme_system.theme_manager - INFO - 主题管理器初始化完成
2025-10-03 21:56:08,514 - __main__ - INFO - 可用主题: ['dark', 'light', 'soft_light', 'neutral']
2025-10-03 21:56:08,514 - __main__ - INFO - ✅ 主题管理器基础验证通过
2025-10-03 21:56:08,514 - theme_system.theme_manager - INFO - 主题切换成功: neutral -> dark
2025-10-03 21:56:08,514 - __main__ - INFO - ✅ 主题 'dark' 切换成功
2025-10-03 21:56:08,514 - theme_system.theme_manager - INFO - 主题切换成功: dark -> light
2025-10-03 21:56:08,514 - __main__ - INFO - ✅ 主题 'light' 切换成功
2025-10-03 21:56:08,514 - theme_system.theme_manager - INFO - 主题切换成功: light -> soft_light
2025-10-03 21:56:08,514 - __main__ - INFO - ✅ 主题 'soft_light' 切换成功
2025-10-03 21:56:08,515 - theme_system.theme_manager - INFO - 主题切换成功: soft_light -> neutral
2025-10-03 21:56:08,515 - __main__ - INFO - ✅ 主题 'neutral' 切换成功
2025-10-03 21:56:08,515 - __main__ - INFO - ✅ 主题管理器测试完成
2025-10-03 21:56:08,515 - __main__ - INFO - ✅ 主题管理器 通过
2025-10-03 21:56:08,515 - __main__ - INFO - 
--- 状态管理器 ---
2025-10-03 21:56:08,515 - __main__ - INFO - 开始测试状态管理器...
2025-10-03 21:56:08,515 - __main__ - INFO - 设置状态: 'test.key' = 'test_value'
2025-10-03 21:56:08,515 - __main__ - INFO - 获取状态: 'test.key' = 'test_value'
2025-10-03 21:56:08,515 - __main__ - INFO - ✅ 状态设置和获取验证通过
2025-10-03 21:56:08,515 - __main__ - INFO - 状态变化回调: test.subscription None -> new_value
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 状态订阅验证通过
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 状态管理器测试完成
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 状态管理器 通过
2025-10-03 21:56:08,516 - __main__ - INFO - 
--- 响应式布局 ---
2025-10-03 21:56:08,516 - __main__ - INFO - 开始测试响应式布局...
2025-10-03 21:56:08,516 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> mobile
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 500px -> mobile 布局判断正确
2025-10-03 21:56:08,516 - ui.layout.responsive_manager - INFO - 布局类型变更: mobile -> tablet
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 800px -> tablet 布局判断正确
2025-10-03 21:56:08,516 - ui.layout.responsive_manager - INFO - 布局类型变更: tablet -> desktop
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 1200px -> desktop 布局判断正确
2025-10-03 21:56:08,516 - ui.layout.responsive_manager - INFO - 布局类型变更: desktop -> large
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 1800px -> large 布局判断正确
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 响应式布局测试完成
2025-10-03 21:56:08,516 - __main__ - INFO - ✅ 响应式布局 通过
2025-10-03 21:56:08,516 - __main__ - INFO - 
--- 样式化组件 ---
2025-10-03 21:56:08,516 - __main__ - INFO - 开始测试样式化组件...
2025-10-03 21:56:08,735 - __main__ - INFO - ✅ 样式化组件创建成功
2025-10-03 21:56:08,736 - __main__ - INFO - ✅ 主题应用验证通过
2025-10-03 21:56:08,736 - __main__ - INFO - 组件事件触发: ('test_data',), {}
2025-10-03 21:56:08,736 - __main__ - INFO - ✅ 事件处理验证通过
2025-10-03 21:56:08,736 - __main__ - INFO - ✅ 性能指标验证通过
2025-10-03 21:56:08,736 - __main__ - INFO - ✅ 组件信息验证通过
2025-10-03 21:56:08,736 - __main__ - INFO - 显示测试窗口，请手动验证...
2025-10-03 21:56:08,736 - __main__ - INFO - 按 Ctrl+C 或关闭窗口继续测试
2025-10-03 21:56:10,806 - __main__ - INFO - ✅ 样式化组件测试完成
2025-10-03 21:56:10,807 - __main__ - INFO - ✅ 样式化组件 通过
2025-10-03 21:56:10,807 - __main__ - INFO - 
--- 组件工厂 ---
2025-10-03 21:56:10,807 - __main__ - INFO - 开始测试组件工厂...
2025-10-03 21:56:10,808 - ui.components.base_components - INFO - 注册组件类型: test_component -> TestStyledComponent
2025-10-03 21:56:10,808 - __main__ - INFO - ✅ 组件注册验证通过
2025-10-03 21:56:10,808 - __main__ - INFO - ✅ 注册类型验证通过
2025-10-03 21:56:10,874 - __main__ - INFO - ✅ 组件创建验证通过
2025-10-03 21:56:10,874 - __main__ - INFO - ✅ 组件获取验证通过
2025-10-03 21:56:10,874 - __main__ - INFO - ✅ 创建统计验证通过
2025-10-03 21:56:10,885 - __main__ - INFO - ✅ 组件工厂测试完成
2025-10-03 21:56:10,885 - __main__ - INFO - ✅ 组件工厂 通过
2025-10-03 21:56:10,885 - __main__ - INFO - 
============================================================
2025-10-03 21:56:10,886 - __main__ - INFO - 测试结果: 5/5 通过
2025-10-03 21:56:10,886 - __main__ - INFO - ============================================================
2025-10-03 21:56:10,886 - __main__ - INFO - 🎉 所有测试通过！组件系统就位！
