# 🚀 AI小说生成器 - 启动说明

## 📋 概述

AI小说生成器现在提供多种启动方式，满足不同用户的需求：

- **🎯 智能启动器** - 用户友好的图形选择界面
- **🌟 现代版** - 基于最新架构的现代化界面
- **⚡ 经典版** - 稳定可靠的功能完整版本
- **🔧 传统启动** - 保持原有的启动方式

## 🎯 推荐启动方式

### 方式一：智能启动器（推荐）
```bash
# 使用uv环境
uv run python launch.py

# 使用虚拟环境
.venv/Scripts/python.exe launch.py

# 或直接运行
python launch.py
```

**特点：**
- 🎨 现代化的图形选择界面
- 🤖 智能检测系统环境
- ⭐ 自动推荐最佳版本
- 🔍 内置系统诊断工具

### 方式二：直接启动现代版
```bash
# 使用uv环境
uv run python main_modern.py

# 使用虚拟环境
.venv/Scripts/python.exe main_modern.py
```

**特点：**
- 🎨 现代化UI设计
- 🌈 主题系统支持
- 📱 响应式布局
- 📊 高级日志记录

### 方式三：直接启动经典版
```bash
# 使用uv环境
uv run python main_classic.py

# 使用虚拟环境
.venv/Scripts/python.exe main_classic.py
```

**特点：**
- ✅ 功能完整稳定
- 🛡️ 久经测试验证
- 🏭 生产环境就绪
- ⚡ 启动速度快

## 📊 版本对比

| 特性 | 现代版 (2.0+) | 经典版 (1.0) | 说明 |
|------|---------------|--------------|------|
| **界面设计** | 🎨 现代化 | 📊 传统 | 现代版更美观 |
| **功能完整性** | ⚠️ 部分缺失 | ✅ 完整 | 经典版功能更全 |
| **稳定性** | 🔄 开发中 | ✅ 稳定 | 经典版久经测试 |
| **主题系统** | ✅ 支持 | ✅ 支持 | 都支持主题 |
| **性能** | 🐌 较慢 | ⚡ 快速 | 经典版更轻量 |
| **推荐场景** | 🎯 开发测试 | 🏭 生产使用 | 根据需求选择 |

## 🛠️ 环境适配

### uv 环境（推荐）
```bash
# 安装依赖
uv pip install -r requirements-uv.txt

# 启动应用
uv run python launch.py
```

### 虚拟环境
```bash
# 激活虚拟环境
.venv/Scripts/activate  # Windows
# 或
source .venv/bin/activate  # Linux/Mac

# 启动应用
python launch.py
```

### 传统 pip 环境
```bash
# 安装依赖
pip install -r requirements.txt

# 启动应用
python launch.py
```

## 🎮 启动器界面

### 图形界面模式
启动器会显示一个现代化的选择界面：

1. **版本选择区域**
   - 现代版（2.0+）- 带有现代化UI标签
   - 经典版（1.0）- 带有稳定可靠标签
   - 自动选择 - 智能检测

2. **功能按钮**
   - 🚀 启动选中的版本
   - 🔍 系统诊断
   - ❌ 退出

3. **状态栏**
   - 实时显示启动状态
   - 错误提示信息

### 命令行模式
如果GUI不可用，会自动切换到命令行模式：

```
🚀 AI小说生成器 - 启动选择器
==================================================

现代版 (2.0+):
  描述: 基于最新架构，现代化界面设计
  特性: 现代化UI, 主题系统, 响应式布局, 高级日志
  ⭐ 推荐版本

经典版 (1.0):
  描述: 稳定可靠，功能完整
  特性: 功能完整, 稳定可靠, 久经测试, 生产就绪

请选择要启动的版本:
1. 现代版 (2.0+) - 推荐
2. 经典版 (1.0)
3. 自动选择
4. 系统诊断
0. 退出
```

## 🔍 故障排除

### 常见问题

#### 1. 启动失败
```bash
# 运行系统诊断
python startup_checker.py

# 检查依赖
pip install -r requirements.txt

# 查看详细错误
python launch.py 2>&1 | tee error.log
```

#### 2. modern tkinter 不可用
```bash
# 安装 customtkinter
pip install customtkinter

# 或使用启动器自动回退到经典版
python launch.py
```

#### 3. 主题系统错误
```bash
# 启动会自动跳过主题系统
# 或使用经典版
python main_classic.py
```

#### 4. 配置文件问题
```bash
# 检查配置文件
python -c "import config_manager; print(config_manager.load_config('config.json'))"

# 重置配置
mv config.json config.json.backup
```

### 诊断工具

启动器内置了诊断工具：

1. **GUI诊断**: 点击"系统诊断"按钮
2. **命令行诊断**: 选择选项4
3. **独立诊断**: `python startup_checker.py`

诊断会检查：
- ✅ Python版本兼容性
- ✅ 依赖包安装状态
- ✅ 配置文件有效性
- ✅ 系统环境信息
- ✅ UI组件可用性

## 📝 使用建议

### 新用户
1. 使用 `launch.py` 启动
2. 选择"现代版"体验最新功能
3. 如遇问题，自动回退到"经典版"

### 开发者
1. 使用现代版进行开发测试
2. 使用经典版验证核心功能
3. 定期运行系统诊断

### 生产环境
1. 推荐使用经典版
2. 直接启动 `main_classic.py`
3. 做好配置备份

## 🔄 版本迁移

如果要从现代版切换到经典版：

1. 配置文件是通用的，无需修改
2. 生成的小说文件格式兼容
3. 可以随时切换版本

## 📞 技术支持

遇到问题时：

1. 首先运行 `python startup_checker.py`
2. 查看日志文件 `app.log`
3. 检查 `docs/` 目录下的故障排除文档
4. 尝试不同的启动方式

---

**注意**: 经典版（1.0）是经过充分测试的稳定版本，建议生产环境使用。现代版（2.0+）正在持续改进中，欢迎体验和反馈。